#!/bin/sh

UNIXMILI=$(node -e "console.log(Date.now())")

{
    printf "// DO NOT CHANGE THIS FILE. THIS HAS BEEN AUTO GENERATED BY 'get_official_api'.\n";
    printf "// This file has been pulled from the main branch of @libsql/core/api to maintain 100%% compatibality with the official SDK.\n";
    printf "\n/* LICENSE for this file\n";
    curl -s "https://raw.githubusercontent.com/tursodatabase/libsql-client-ts/main/LICENSE";
    printf "\n*/\n\n";
    curl -s "https://raw.githubusercontent.com/tursodatabase/libsql-client-ts/main/packages/libsql-core/src/api.ts"
} >> "./src/official_api_${UNIXMILI}.ts"
